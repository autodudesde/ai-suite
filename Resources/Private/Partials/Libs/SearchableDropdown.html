<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
    <f:if condition="{searchableList}">
        <f:then>
            <f:asset.css identifier="backend-aisuite-searchableDropdown-styles" href="EXT:ai_suite/Resources/Public/Css/Pages/searchable-dropdown.css" />
            <f:asset.script identifier="backend-aisuite-searchableDropdown-script" src="EXT:ai_suite/Resources/Public/JavaScript/Pages/SearchableDropdown.js" />
            <div class="form-group">
                <div class="searchable dropdown">
                    <input type="hidden" name="{propertyName}" class="searchableInputProperty" value="{selected}" />
                    <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" data-initial-text="{f:translate(key: translateKeyButton, extensionName: 'ai_suite')}">
                        <f:translate key="{translateKeyButton}" extensionName="ai_suite"/>
                    </button>
                    <ul class="dropdown-menu">
                        <li class="searchbox">
                            <input type="text" placeholder="{f:translate(key: 'AiSuite.module.misc.searchableDropdown.search', extensionName: 'ai_suite')}" class="form-control searchableInput" />
                        </li>
                        <f:for each="{searchableList}" key="optionKey" as="optionLabel">
                            <li>
                                <a class="dropdown-item" data-value="{optionKey}" href="#{optionKey}">{optionLabel} (PID: {optionKey})</a>
                            </li>
                        </f:for>
                    </ul>
                </div>
            </div>
        </f:then>
        <f:else>
            <f:translate key="aiSuite.module.noSearchableList" extensionName="ai_suite"/>
        </f:else>
    </f:if>
</html>
